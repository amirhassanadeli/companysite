<!doctype html>
{% load static %}
<html lang="fa" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{% block title %}ورود | IntelRain{% endblock %}</title>

    <!-- Bootstrap -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">

    <!-- Icons -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.0/font/bootstrap-icons.css">

    <!-- Font -->
    <link href="https://cdn.jsdelivr.net/npm/vazirmatn@33.0.2/dist/font-face.css" rel="stylesheet"/>

    <!-- CSS -->
    <link rel="stylesheet" href="{% static 'accounts/css/styles_auth.css' %}">


    {% block extra_head %}{% endblock %}
</head>

<body>

{% if messages %}
    <script>
        window.djangoMessages = [
            {% for m in messages %}
                {"text": "{{ m }}", "tag": "{{ m.tags }}"},
            {% endfor %}
        ];
    </script>
{% endif %}

{% block content %}{% endblock %}

<script>
    function togglePassword() {
        const pass = document.getElementById("login_password");
        const icon = document.getElementById("passIcon");

        if (pass.type === "password") {
            pass.type = "text";
            icon.classList.replace("bi-eye", "bi-eye-slash");
            icon.classList.add("active");
        } else {
            pass.type = "password";
            icon.classList.replace("bi-eye-slash", "bi-eye");
            icon.classList.remove("active");
        }
    }
</script>

<script src="{% static 'js/scripts.js' %}"></script>

<script>
    if (window.djangoMessages) {
        window.djangoMessages.forEach(m => {
            let type = "info";
            if (m.tag.includes("success")) type = "success";
            else if (m.tag.includes("warning")) type = "warning";
            else if (m.tag.includes("error")) type = "error";
            showMessage(m.text, type);
        });
    }
</script>

{% block extra_js %}{% endblock %}
</body>
</html>
